增量式pid的调节说明文档
作者：逆风
时间：2015.7.23
目的：整理和总结知识

准备工作：
第一：在最大pwm（100%占空比）时，在10ms(本人是10ms中断处理编码器的值)内，电机码盘输出的速度值为encoder_speed(把它当作实际电机转速)。
第二：pwm的占空比范围。
第三：码盘在最大pwm输出情况下的变化范围即电机速度范围。
例：电机实际转速encoder_speed=577
    pwm的占空比范围为：0-5000
    电机速度范围为：-577-577

调用增量式pid函数
根据incrementalpid.c文件。
第一步是：调用INC_Pid_Init(void）;//初始化Inc_Pid结构体成员变量。
第二部是：调用INC_Pid_Ctrl(Speed,feb）//Speed为设定电机速度（电机速度范围为：-577-577），feb为10ms中断返回的码盘值。
第三部是：在示波器上根据下面经验调节pid各个参数


另外附上：PID调节经验总结（搜索资源）
    PID控制器参数选择的方法很多，例如试凑法、临界比例度法、扩充临界比例度法等。但是，对于PID控制而言，参数的选择始终是一件非常烦杂的工作，需要经过不断的调整才能得到较为满意的控制效果。依据经验，一般PID参数确定的步骤如下：
(1)确定比例系数Kp
     确定比例系数Kp时，首先去掉PID的积分项和微分项，可以令Ti=0、Td=0，使之成为纯比例调节。输入设定为系统允许输出最大值的60％～70％，比例系数Kp由0开始逐渐增大，直至系统出现振荡；再反过来，从此时的比例系数Kp逐渐减小，直至系统振荡消失。记录此时的比例系数Kp，设定PID的比例系数Kp为当前值的60％～70％。
(2)确定积分时间常数Ti
     比例系数Kp确定之后，设定一个较大的积分时间常数Ti，然后逐渐减小Ti，直至系统出现振荡，然后再反过来，逐渐增大Ti，直至系统振荡消失。记录此时的Ti，设定PID的积分时间常数Ti为当前值的 150％～180％。
(3)确定微分时间常数Td
     微分时间常数Td一般不用设定，为0即可，此时PID调节转换为PI调节。如果需要设定，则与确定Kp的方法相同，取不振荡时其值的30％。
(4)系统空载、带载联调
    对PID参数进行微调，直到满足性能要求。


PID参数的整定就是合理的选择PID三参数。从系统的稳定性、响应速度，超调量和稳态精度等各方面考虑问题，三参数的作用如下：


1、比例参数KP的作用是加快系统的响应速度，提高系统的调节精度。随着KP的增大系统的响应速度越快，系统的调节精度越高，但是系统易产生超调，系统的稳定性变差，甚至会导致系统不稳定。KP取值过小，调节精度降低，响应速度变慢，调节时间加长，使系统的动静态性能变坏。


2、积分作用参数Ti的一个最主要作用是消除系统的稳态误差。Ti越大系统的稳态误差消除的越快，但Ti也不能过大，否则在响应过程的初期会产生积分饱和现象。若Ti过小，系统的稳态误差将难以消除，影响系统的调节精度。另外在控制系统的前向通道中只要有积分环节总能做到稳态无静差。从相位的角度来看一个积分环节就有90° 的相位延迟，也许会破坏系统的稳定性。


3、微分作用参数Td的作用是改善系统的动态性能，其主要作用是在响应过程中抑制偏差向任何方向的变化，对偏差变化进行提前预报。但Ti不能过大，否则会使响应过程提前制动，延长调节时间，并且会降低系统的抗干扰性能。


总之PID参数的整定必须考虑在不同时刻三个参数的作用以及相互之间的互联关系

